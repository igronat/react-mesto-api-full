{"ast":null,"code":"var _jsxFileName = \"/Users/TommyRadin/Desktop/\\u043C\\u043E\\u0438 \\u0432\\u0435\\u0431 \\u0440\\u0430\\u0437\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0438/react-mesto-auth/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport editButton from '../images/edit-button.svg';\nimport plus from '../images/plus.svg';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport Header from './Header';\nimport { Route, Switch, Redirect, Link } from 'react-router-dom';\nimport * as auth from './Auth.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login(_ref) {\n  _s();\n\n  let {\n    handleLogin\n  } = _ref;\n  const [data, setData] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    email,\n    password\n  } = data;\n\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setData({ ...data,\n      [name]: value\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (!email || !password) {\n      return;\n    }\n\n    auth.authorize(email, password).then(data => {\n      if (data.jwt) {\n        this.setState({\n          username: '',\n          password: ''\n        }, () => {\n          handleLogin(); // this.props.history.push('/ducks');\n        });\n      }\n    }).catch(err => console.log(err)); // запускается, если пользователь не найден\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      menu: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",\n      link: \"/signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"content content__form\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"form__header\",\n          children: \"\\u0412\\u0445\\u043E\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          id: \"email\",\n          value: email,\n          onChange: handleChange,\n          name: \"email\",\n          type: \"email\",\n          placeholder: \"Email\",\n          className: \"form__input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          id: \"password\",\n          name: \"password\",\n          type: \"password\",\n          placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n          className: \"form__input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"form__button\",\n          children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Login, \"JH5qLLXkn1RQbucJ6av7n/4NSa0=\");\n\n_c = Login;\n;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/TommyRadin/Desktop/мои веб разработки/react-mesto-auth/src/components/Login.js"],"names":["React","useContext","useState","editButton","plus","Card","CurrentUserContext","Header","Route","Switch","Redirect","Link","auth","Login","handleLogin","data","setData","email","password","handleChange","e","name","value","target","handleSubmit","preventDefault","authorize","then","jwt","setState","username","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport editButton from '../images/edit-button.svg'\nimport plus from '../images/plus.svg'\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\nimport Header from './Header';\nimport { Route, Switch, Redirect, Link } from 'react-router-dom';\nimport * as auth from './Auth.js';\n\nfunction Login({\n  handleLogin\n   }) \n\n   {\n    \n    const [data, setData] = useState({ \n      email: '', \n      password: ''\n    });\n    const {email, password} = data;\n\n    function handleChange(e) {\n      const {name, value} = e.target;\n      setData({\n        ...data,\n        [name]: value \n      });\n    }\n\n    function handleSubmit(e){\n      e.preventDefault();\n    if (!email || !password){\n      return;\n    }\n    auth.authorize(email, password)\n    .then((data) => {\n      if (data.jwt){\n        this.setState({username: '', password: ''} ,() => {\n            handleLogin();\n            // this.props.history.push('/ducks');\n        })\n      }  \n    })\n    .catch(err => console.log(err)); // запускается, если пользователь не найден\n  } \n\n    return (\n        <>\n        <Header \n        menu='Регистрация'\n        link='/signup'\n        />\n        \n        <main className=\"content content__form\">\n            \n        <form className=\"form\">\n          <p className=\"form__header\">Вход</p>\n          <input required id=\"email\" value={email} onChange={handleChange} name=\"email\" type=\"email\" placeholder='Email' className=\"form__input\"/>\n          <input required id=\"password\" name=\"password\" type=\"password\" placeholder='Пароль' className=\"form__input\"/>\n          <button type=\"submit\" className=\"form__button\">Войти</button>\n        </form>\n\n        </main>\n        </>\n\n    )\n};\n\nexport default Login"]},"metadata":{},"sourceType":"module"}