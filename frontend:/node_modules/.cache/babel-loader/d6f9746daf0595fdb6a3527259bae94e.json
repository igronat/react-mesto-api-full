{"ast":null,"code":"var _jsxFileName = \"/Users/TommyRadin/Desktop/\\u043C\\u043E\\u0438 \\u0432\\u0435\\u0431 \\u0440\\u0430\\u0437\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0438/react-mesto-auth/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport editButton from '../images/edit-button.svg';\nimport plus from '../images/plus.svg';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport Header from './Header';\nimport { Route, Switch, Redirect, Link, useHistory } from 'react-router-dom';\nimport * as auth from './Auth.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login(_ref) {\n  _s();\n\n  let {\n    handleLogin\n  } = _ref;\n  const [data, setData] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    email,\n    password\n  } = data;\n  const history = useHistory();\n\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setData({ ...data,\n      [name]: value\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (!email || !password) {\n      return;\n    }\n\n    handleLogin(email, password) // auth.authorize(email, password)\n    // .then((data) => {\n    //   if (data.jwt){\n    //     return setData({email: '', password: ''} ,() => {\n    //         handleLogin();\n    //         history.push('/signup');\n    //     })\n    //   }  \n    // })\n    .catch(err => console.log(err)); // запускается, если пользователь не найден\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      menu: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",\n      link: \"/signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"content content__form\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"form__header\",\n          children: \"\\u0412\\u0445\\u043E\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          id: \"email\",\n          value: email,\n          onChange: handleChange,\n          name: \"email\",\n          type: \"email\",\n          placeholder: \"Email\",\n          className: \"form__input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          id: \"password\",\n          name: \"password\",\n          value: password,\n          onChange: handleChange,\n          type: \"password\",\n          placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n          className: \"form__input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"form__button\",\n          children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Login, \"IiJBqKMqs9gqlF3QDxv9B8pihE0=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\n;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/TommyRadin/Desktop/мои веб разработки/react-mesto-auth/src/components/Login.js"],"names":["React","useContext","useState","editButton","plus","Card","CurrentUserContext","Header","Route","Switch","Redirect","Link","useHistory","auth","Login","handleLogin","data","setData","email","password","history","handleChange","e","name","value","target","handleSubmit","preventDefault","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport editButton from '../images/edit-button.svg'\nimport plus from '../images/plus.svg'\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\nimport Header from './Header';\nimport { Route, Switch, Redirect, Link, useHistory } from 'react-router-dom';\nimport * as auth from './Auth.js';\n\nfunction Login({\n  handleLogin\n   }) \n\n   {\n    \n    const [data, setData] = useState({ \n      email: '', \n      password: ''\n    });\n    const {email, password} = data;\n    const history = useHistory();\n\n    function handleChange(e) {\n      const {name, value} = e.target;\n      setData({\n        ...data,\n        [name]: value \n      });\n    }\n\n    function handleSubmit(e){\n      e.preventDefault();\n    if (!email || !password){\n      return;\n    }\n    handleLogin(email, password)\n    // auth.authorize(email, password)\n    // .then((data) => {\n      \n    //   if (data.jwt){\n    //     return setData({email: '', password: ''} ,() => {\n    //         handleLogin();\n    //         history.push('/signup');\n            \n    //     })\n    //   }  \n    // })\n    .catch(err => console.log(err)); // запускается, если пользователь не найден\n  } \n\n    return (\n        <>\n        <Header \n        menu='Регистрация'\n        link='/signup'\n        />\n        \n        <main className=\"content content__form\">\n            \n        <form className=\"form\" onSubmit={handleSubmit}>\n          <p className=\"form__header\">Вход</p>\n          <input required id=\"email\" value={email} onChange={handleChange} name=\"email\" type=\"email\" placeholder='Email' className=\"form__input\"/>\n          <input required id=\"password\" name=\"password\" value={password} onChange={handleChange} type=\"password\" placeholder='Пароль' className=\"form__input\"/>\n          <button type=\"submit\" className=\"form__button\">Войти</button>\n        </form>\n\n        </main>\n        </>\n\n    )\n};\n\nexport default Login"]},"metadata":{},"sourceType":"module"}